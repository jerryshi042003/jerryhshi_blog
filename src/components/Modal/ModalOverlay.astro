---
interface Props {
  id: string;
  showNav?: boolean;
}

const { id, showNav = false } = Astro.props;
---

<div class="modal-overlay" id={id}>
  <button class="modal-back" data-modal-close>
    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M19 12H5M12 19l-7-7 7-7"/>
    </svg>
  </button>

  {showNav && (
    <button class="modal-nav modal-prev" data-modal-prev>
      <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M15 18l-6-6 6-6"/>
      </svg>
    </button>
  )}

  <div class="modal-content">
    <slot />
  </div>

  {showNav && (
    <button class="modal-nav modal-next" data-modal-next>
      <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M9 18l6-6-6-6"/>
      </svg>
    </button>
  )}
</div>

<style>
  .modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: #fff;
    z-index: 200;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s, visibility 0.3s;
  }

  .modal-overlay.active {
    opacity: 1;
    visibility: visible;
  }

  .modal-back {
    position: fixed;
    top: 1.5rem;
    left: 1.5rem;
    background: none;
    border: none;
    cursor: pointer;
    color: #000;
    padding: 0.5rem;
    z-index: 10;
  }

  .modal-back:hover {
    opacity: 0.5;
  }

  .modal-nav {
    position: fixed;
    top: 50%;
    transform: translateY(-50%);
    background: none;
    border: none;
    cursor: pointer;
    color: #000;
    padding: 1rem;
    z-index: 10;
  }

  .modal-nav:hover {
    opacity: 0.5;
  }

  .modal-prev { left: 1.5rem; }
  .modal-next { right: 1.5rem; }

  .modal-content {
    width: 100%;
    max-width: 600px;
    text-align: center;
    padding: 4rem 2rem 2rem;
    overflow-y: auto;
    max-height: 100vh;
  }

  @media (max-width: 600px) {
    .modal-content {
      padding: 3.5rem 1.5rem 2rem;
    }

    .modal-nav {
      padding: 0.5rem;
    }

    .modal-prev { left: 0.5rem; }
    .modal-next { right: 0.5rem; }
  }

  @media (min-width: 768px) {
    .modal-prev { left: 2.5rem; }
    .modal-next { right: 2.5rem; }
  }

  @media (min-width: 1024px) {
    .modal-prev { left: calc(50% - 250px); }
    .modal-next { right: calc(50% - 250px); }
  }
</style>
